<div align="center">
  <h1>BlackPiyan</h1>
  <p>å°ˆæ¥­çš„21é»(Blackjack)èŠå®¶ç­–ç•¥æ¨¡æ“¬èˆ‡åˆ†æå·¥å…·</p>
  
  <p>
    <a href="https://www.python.org/downloads/"><img src="https://img.shields.io/badge/python-3.8%2B-blue" alt="Python Version"></a>
    <a href="./LICENSE"><img src="https://img.shields.io/badge/license-MIT-green" alt="License"></a>
    <a href="https://github.com/ArIs0x145/BlackPiyan21/releases"><img src="https://img.shields.io/badge/version-1.0.0-orange" alt="Version"></a>
  </p>
</div>

## ğŸ“– å°ˆæ¡ˆç°¡ä»‹

BlackPiyan æ˜¯ä¸€å€‹å°ˆé–€ç”¨æ–¼æ¨¡æ“¬å’Œåˆ†æ21é»éŠæˆ²ä¸­ä¸åŒèŠå®¶è£œç‰Œç­–ç•¥çš„å·¥å…·ã€‚é€šéæ¨¡æ“¬å¤§é‡éŠæˆ²å±€æ•¸ï¼Œæ”¶é›†å’Œåˆ†æèŠå®¶åœ¨ä¸åŒè£œç‰Œç­–ç•¥ï¼ˆåœç‰Œé»ï¼‰ä¸‹çš„é»æ•¸åˆ†å¸ƒã€çˆ†ç‰Œç‡ç­‰æ•¸æ“šï¼Œå¹«åŠ©ç”¨æˆ¶ç†è§£ä¸åŒç­–ç•¥çš„è¡¨ç¾å·®ç•°ã€‚

### ğŸŒŸ åŠŸèƒ½ç‰¹é»

- ğŸ® æ¨¡æ“¬21é»éŠæˆ²ä¸­èŠå®¶çš„ä¸åŒè£œç‰Œç­–ç•¥ï¼ˆ16ã€17ã€18é»ç­‰ï¼‰
- ğŸƒ æ”¯æŒè‡ªå®šç¾©ç‰Œå‰¯æ•¸é‡ï¼ˆé è¨­6å‰¯ç‰Œï¼Œ312å¼µï¼‰
- ğŸ”„ æ™ºèƒ½æ´—ç‰Œæ©Ÿåˆ¶ï¼ˆå‰©é¤˜ç‰Œæ•¸ä½æ–¼é–¾å€¼æ™‚è‡ªå‹•æ´—ç‰Œï¼‰
- ğŸ“Š ç”Ÿæˆå°ˆæ¥­çš„è¦–è¦ºåŒ–åˆ†æåœ–è¡¨ï¼š
  - é»æ•¸åˆ†å¸ƒåœ–
  - çˆ†ç‰Œç‡æ¯”è¼ƒ
  - å¹³å‡é»æ•¸æ¯”è¼ƒ
  - å¤šç­–ç•¥ç¶œåˆæ¯”è¼ƒ
- ğŸ“± å®Œå–„çš„è·¨å¹³å°ä¸­æ–‡å­—é«”æ”¯æŒ
- ğŸ–¥ï¸ **åœ–å½¢ç”¨æˆ¶ç•Œé¢(GUI)**ï¼š
  - ä½¿ç”¨PySide6é–‹ç™¼ç›´è§€æ˜“ç”¨çš„æ“ä½œç•Œé¢
  - å¯¦æ™‚èª¿æ•´æ¨¡æ“¬åƒæ•¸
  - äº¤äº’å¼åœ–è¡¨å±•ç¤º
  
- âš™ï¸ é«˜åº¦å¯é…ç½®çš„åƒæ•¸è¨­ç½®

## ğŸš§ æœªå®ŒæˆåŠŸèƒ½

ä»¥ä¸‹åŠŸèƒ½æ­£åœ¨é–‹ç™¼ä¸­ï¼š
  - æ¨¡æ“¬éç¨‹å¯è¦–åŒ–
- ğŸ”„ æ›´å¤šé è¨ˆåŠŸèƒ½å°‡é™¸çºŒæ·»åŠ ...

å¦‚æœæ‚¨æœ‰èˆˆè¶£åƒèˆ‡é€™äº›åŠŸèƒ½çš„é–‹ç™¼ï¼Œè«‹åƒè€ƒ[è²¢ç»æŒ‡å—](docs/contributing.md)ã€‚

## ğŸ“· æ•ˆæœå±•ç¤º

<div align="center">
  <img src="docs/imgs/app.png" alt="æ‡‰ç”¨ç¨‹å¼ç•Œé¢" width="80%">
  <p>BlackPiyanåœ–å½¢ç”¨æˆ¶ç•Œé¢</p>
</div>

<div align="center">
  <img src="docs/imgs/s16.png" alt="ç­–ç•¥16é»æ•¸åˆ†å¸ƒ" width="45%">
  <img src="docs/imgs/s17.png" alt="ç­–ç•¥17é»æ•¸åˆ†å¸ƒ" width="45%">
  <img src="docs/imgs/s18.png" alt="ç­–ç•¥18é»æ•¸åˆ†å¸ƒ" width="45%">
  <img src="docs/imgs/total.png" alt="ç­–ç•¥æ¯”è¼ƒ" width="45%">
</div>

## ğŸš€ å®‰è£èˆ‡ä½¿ç”¨

### ç’°å¢ƒéœ€æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- ä¾è³´åº«: è¦‹ `requirements.txt`

### å®‰è£ä¾è³´

```bash
pip install -r requirements.txt
```

### é‹è¡Œæ¨¡æ“¬

```bash
python main.py
```

è‹¥éœ€ä½¿ç”¨è‡ªå®šç¾©é…ç½®ï¼š

```bash
python main.py --config configs/my_config.yaml
```

### é‹è¡ŒGUI

```bash
python run_gui.py
```

### æ§‹å»ºå¯åŸ·è¡Œæª”

è¦å°‡GUIæ‰“åŒ…ç‚ºç¨ç«‹çš„å¯åŸ·è¡Œæª”æ¡ˆï¼š

```bash
# å…ˆå®‰è£PyInstaller
pip install pyinstaller

# é‹è¡Œæ‰“åŒ…è…³æœ¬
python build_exe.py
```

æ‰“åŒ…å¾Œçš„å¯åŸ·è¡Œæª”ä½æ–¼ `dist/BlackPiyan` ç›®éŒ„ä¸‹ã€‚

## âš™ï¸ é…ç½®èªªæ˜

é…ç½®æ–‡ä»¶ä½æ–¼ `configs/default.yaml`ï¼Œå¯è‡ªå®šç¾©ä»¥ä¸‹è¨­ç½®ï¼š

```yaml
# éŠæˆ²é…ç½®
game:
  decks: 6                  # ä½¿ç”¨çš„ç‰Œå‰¯æ•¸é‡
  reshuffle_threshold: 0.4  # ç•¶å‰©é¤˜ç‰Œæ•¸ä½æ–¼æ­¤é–¾å€¼æ™‚æ´—ç‰Œ

# èŠå®¶é…ç½®
dealer:
  hit_until_value: 17       # èŠå®¶è£œç‰Œç­–ç•¥å€¼ (å°æ–¼æ­¤å€¼å°±è£œç‰Œ)

# æ¨¡æ“¬é…ç½®
simulation:
  min_games_per_strategy: 1000  # æ¯ç¨®ç­–ç•¥è‡³å°‘æ¨¡æ“¬çš„å±€æ•¸
  total_min_games: 2000         # ç¸½å…±è‡³å°‘æ¨¡æ“¬çš„å±€æ•¸
  strategies:                   # è¦æ¸¬è©¦çš„æ‰€æœ‰ç­–ç•¥å€¼
    - 16
    - 17
    - 18
  # å¯¦æ™‚æ›´æ–°é…ç½®
  realtime_update:
    enabled: true               # æ˜¯å¦å•Ÿç”¨å¯¦æ™‚æ›´æ–°
    update_interval: 100        # æ¯å¤šå°‘å±€æ›´æ–°ä¸€æ¬¡åœ–è¡¨
    min_update_interval: 50     # æœ€å°æ›´æ–°é–“éš” (å±€æ•¸)
    max_update_interval: 500    # æœ€å¤§æ›´æ–°é–“éš” (å±€æ•¸)
    auto_adjust: true           # æ˜¯å¦æ ¹æ“šç¸½å±€æ•¸è‡ªå‹•èª¿æ•´æ›´æ–°é–“éš”

# æ—¥èªŒé…ç½®
logging:
  level: INFO                  # æ—¥èªŒç´šåˆ¥ (DEBUG, INFO, WARNING, ERROR)
  file: logs/blackpiyan.log    # æ—¥èªŒæ–‡ä»¶
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# çµæœè¼¸å‡ºé…ç½®
output:
  data_dir: results/data        # çµæœæ•¸æ“šå­˜å„²ç›®éŒ„
  charts_dir: results/charts    # åœ–è¡¨è¼¸å‡ºç›®éŒ„

# å­—é«”é…ç½®
font:
  family: "Microsoft JhengHei"  # ä¸­æ–‡é¡¯ç¤ºå­—é«”
  fallback: "DejaVu Sans"       # å¾Œå‚™å­—é«” 
```

æ›´å¤šé…ç½®èªªæ˜è«‹åƒé–± [é…ç½®æ–‡æª”](docs/configuration.md)ã€‚

## ğŸ“Š è¼¸å‡ºçµæœ

æ¨¡æ“¬çµæœå°‡ä»¥å…©ç¨®å½¢å¼å‘ˆç¾ï¼š

1. æ§åˆ¶å°å’Œæ—¥èªŒæ–‡ä»¶ä¸­çš„çµ±è¨ˆä¿¡æ¯
2. `results/charts/` ç›®éŒ„ä¸‹çš„åœ–è¡¨:  
   - æ¯ç¨®ç­–ç•¥çš„é»æ•¸åˆ†å¸ƒåœ–  
   - ä¸åŒç­–ç•¥çš„æ¯”è¼ƒåœ–

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
blackpiyan/             # ä¸»ç¨‹å¼ç¢¼ç›®éŒ„
â”œâ”€â”€ analysis/           # æ•¸æ“šåˆ†ææ¨¡å¡Š
â”œâ”€â”€ config/             # é…ç½®ç®¡ç†æ¨¡å¡Š
â”œâ”€â”€ game/               # éŠæˆ²é‚è¼¯æ¨¡å¡Š
â”œâ”€â”€ model/              # æ•¸æ“šæ¨¡å‹
â”œâ”€â”€ simulation/         # æ¨¡æ“¬å¼•æ“
â”œâ”€â”€ utils/              # å¯¦ç”¨å·¥å…·
â””â”€â”€ visualization/      # å¯è¦–åŒ–æ¨¡å¡Š


gui/                     # GUIç›®éŒ„
â”œâ”€â”€ __init__.py
â”œâ”€â”€ main_window.py       # ä¸»çª—å£é‚è¼¯å¯¦ç¾
â”œâ”€â”€ ui_main_window.py    # ç”± .ui æ–‡ä»¶è‡ªå‹•ç”Ÿæˆ
â”œâ”€â”€ main_window.ui       # Qt Designer è¨­è¨ˆæ–‡ä»¶
â”œâ”€â”€ mpl_canvas.py        # Matplotlib åµŒå…¥æ§ä»¶
â”œâ”€â”€ worker.py            # QThread å·¥ä½œç·šç¨‹é¡
â””â”€â”€ resources/           # åœ–æ¨™ç­‰è³‡æº 
    â””â”€â”€ icons/

configs/                # é…ç½®æ–‡ä»¶ç›®éŒ„
docs/                   # æ–‡æª”ç›®éŒ„
results/                # çµæœè¼¸å‡ºç›®éŒ„
tests/                  # æ¸¬è©¦ç›®éŒ„
```

## ğŸ“š æ–‡æª”

è©³ç´°æ–‡æª”è«‹åƒé–± [æ–‡æª”ç›®éŒ„](docs/README.md):

- [ä½¿ç”¨æŒ‡å—](docs/usage.md)
- [å®‰è£æŒ‡å—](docs/installation.md)
- [API åƒè€ƒ](docs/api_reference.md)
- [è·¨å¹³å°å­—é«”æ”¯æŒ](docs/font_support.md)
- [æ¶æ§‹è¨­è¨ˆ](docs/architecture.md)

## ğŸ§ª é‹è¡Œæ¸¬è©¦

BlackPiyan æä¾›äº†å®Œæ•´çš„æ¸¬è©¦å¥—ä»¶ï¼š

```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
python -m unittest discover blackpiyan.tests

# é‹è¡Œç‰¹å®šæ¸¬è©¦æ¨¡å¡Š
python -m unittest blackpiyan.tests.test_model
python -m unittest blackpiyan.tests.test_simulation

# é‹è¡Œå–®å€‹æ¸¬è©¦é¡
python -m unittest blackpiyan.tests.test_model.TestCard
```

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿ä»»ä½•å½¢å¼çš„è²¢ç»ï¼å¦‚æœæ‚¨æƒ³ç‚º BlackPiyan åšå‡ºè²¢ç»ï¼Œè«‹åƒé–±æˆ‘å€‘çš„ [è²¢ç»æŒ‡å—](docs/contributing.md)ã€‚

## ğŸ“„ è¨±å¯è­‰

æœ¬é …ç›®æ¡ç”¨ MIT è¨±å¯è­‰ - è©³æƒ…è«‹åƒé–± [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ‘¥ é–‹ç™¼åœ˜éšŠ

BlackPiyan Team 
[ArIs0x145](https://github.com/ArIs0x145)
[love2004](https://github.com/love2004)
